<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0"><title>Jetson Xavier NX虚拟环境中安装tensorflow | JrunDing</title><meta name="author" content="JrunDing"><meta name="copyright" content="JrunDing"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="ffffff"><meta name="description" content="工程需要，入手了Jetson Xavier NX Development Kit，在其上安装tensorflow-gpu经历百般挫折，最终整理成这篇blog。其主要原因是很多python包对ARM64架构支持并不是很完善，导致原本在X86 Windows上只需要一句就可以安装的包，现在需要从源码编译安装。  一	硬件组成​	到手的Development Kit主要包括：主板(包括核心板)、19V">
<meta property="og:type" content="article">
<meta property="og:title" content="Jetson Xavier NX虚拟环境中安装tensorflow">
<meta property="og:url" content="http://jrunding.github.io/2023/09/03/Jetson-Xavier-NX%E8%99%9A%E6%8B%9F%E7%8E%AF%E5%A2%83%E4%B8%AD%E5%AE%89%E8%A3%85tensorflow/index.html">
<meta property="og:site_name" content="JrunDing">
<meta property="og:description" content="工程需要，入手了Jetson Xavier NX Development Kit，在其上安装tensorflow-gpu经历百般挫折，最终整理成这篇blog。其主要原因是很多python包对ARM64架构支持并不是很完善，导致原本在X86 Windows上只需要一句就可以安装的包，现在需要从源码编译安装。  一	硬件组成​	到手的Development Kit主要包括：主板(包括核心板)、19V">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://s1.ax1x.com/2023/03/03/ppkgPxK.jpg">
<meta property="article:published_time" content="2023-09-03T09:27:57.000Z">
<meta property="article:modified_time" content="2023-09-03T18:18:03.671Z">
<meta property="article:author" content="JrunDing">
<meta property="article:tag" content="Communication, Automation, ML, DL, NLP, CV, Movie, photography">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://s1.ax1x.com/2023/03/03/ppkgPxK.jpg"><link rel="shortcut icon" href="https://z1.ax1x.com/2023/11/13/piJMDnH.jpg"><link rel="canonical" href="http://jrunding.github.io/2023/09/03/Jetson-Xavier-NX%E8%99%9A%E6%8B%9F%E7%8E%AF%E5%A2%83%E4%B8%AD%E5%AE%89%E8%A3%85tensorflow/index.html"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.min.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  translate: undefined,
  noticeOutdate: undefined,
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":200},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  date_suffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: {"limitCount":50,"languages":{"author":"作者: JrunDing","link":"链接: ","source":"来源: JrunDing","info":"著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。"}},
  lightbox: 'fancybox',
  Snackbar: undefined,
  source: {
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isAnchor: false,
  percent: {
    toc: true,
    rightside: true,
  }
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'Jetson Xavier NX虚拟环境中安装tensorflow',
  isPost: true,
  isHome: false,
  isHighlightShrink: undefined,
  isToc: true,
  postUpdate: '2023-09-04 02:18:03'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
    win.getCSS = (url,id = false) => new Promise((resolve, reject) => {
      const link = document.createElement('link')
      link.rel = 'stylesheet'
      link.href = url
      if (id) link.id = id
      link.onerror = reject
      link.onload = link.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        link.onload = link.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(link)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', 'ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          if (t === 'dark') activateDarkMode()
          else if (t === 'light') activateLightMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
    const detectApple = () => {
      if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
    })(window)</script><meta name="generator" content="Hexo 6.3.0"></head><body><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/pace-js/themes/blue/pace-theme-minimal.min.css"/><script src="https://cdn.jsdelivr.net/npm/pace-js/pace.min.js"></script><div id="web_bg"></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="https://z1.ax1x.com/2023/11/13/piJMDnH.jpg" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">200</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">0</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">11</div></a></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><span> Home</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><span> Categories</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><span> Link</span></a></div><div class="menus_item"><a class="site-page" href="/talk/"><span> Talk</span></a></div><div class="menus_item"><a class="site-page" href="/music/"><span> Music</span></a></div><div class="menus_item"><a class="site-page" href="/movie/"><span> Movie</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url('https://s1.ax1x.com/2023/03/03/ppkgPxK.jpg')"><nav id="nav"><span id="blog-info"><a href="/" title="JrunDing"></a></span><div id="menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><span> Home</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><span> Categories</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><span> Link</span></a></div><div class="menus_item"><a class="site-page" href="/talk/"><span> Talk</span></a></div><div class="menus_item"><a class="site-page" href="/music/"><span> Music</span></a></div><div class="menus_item"><a class="site-page" href="/movie/"><span> Movie</span></a></div></div><div id="toggle-menu"><a class="site-page" href="javascript:void(0);"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">Jetson Xavier NX虚拟环境中安装tensorflow</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2023-09-03T09:27:57.000Z" title="发表于 2023-09-03 17:27:57">2023-09-03</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2023-09-03T18:18:03.671Z" title="更新于 2023-09-04 02:18:03">2023-09-04</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/Computer-Science/">Computer Science</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-wordcount"><i class="far fa-file-word fa-fw post-meta-icon"></i><span class="post-meta-label">字数总计:</span><span class="word-count">4.4k</span><span class="post-meta-separator">|</span><i class="far fa-clock fa-fw post-meta-icon"></i><span class="post-meta-label">阅读时长:</span><span>15分钟</span></span><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title="Jetson Xavier NX虚拟环境中安装tensorflow"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">阅读量:</span><span id="busuanzi_value_page_pv"><i class="fa-solid fa-spinner fa-spin"></i></span></span><span class="post-meta-separator">|</span><span class="post-meta-commentcount"><i class="far fa-comments fa-fw post-meta-icon"></i><span class="post-meta-label">评论数:</span><span class="disqus-comment-count"><a href="http://jrunding.github.io/2023/09/03/Jetson-Xavier-NX%E8%99%9A%E6%8B%9F%E7%8E%AF%E5%A2%83%E4%B8%AD%E5%AE%89%E8%A3%85tensorflow/#disqus_thread"><i class="fa-solid fa-spinner fa-spin"></i></a></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><blockquote>
<p>工程需要，入手了Jetson Xavier NX Development Kit，在其上安装tensorflow-gpu经历百般挫折，最终整理成这篇blog。其主要原因是很多python包对ARM64架构支持并不是很完善，导致原本在X86 Windows上只需要一句就可以安装的包，现在需要从源码编译安装。</p>
</blockquote>
<h1 id="一硬件组成"><a href="#一硬件组成" class="headerlink" title="一	硬件组成"></a>一	硬件组成</h1><p>​	到手的Development Kit主要包括：主板(包括核心板)、19V电源线、2.4G无线键鼠套件、15寸显示屏(显示屏支架)、显示屏电源线、DP接口数据线、HDMI接口数据线、micro usb数据线、128G SSD</p>
<h1 id="二镜像烧录"><a href="#二镜像烧录" class="headerlink" title="二	镜像烧录"></a>二	镜像烧录</h1><p>​	<strong>烧录镜像主要有两种方式，第一种是通过SD卡烧录，需要至少32G的SD卡和读卡器，第二种是通过NVIDIA SDK Manager软件烧录，需要micro usb即可。</strong> </p>
<h2 id="1-SD卡烧录"><a href="#1-SD卡烧录" class="headerlink" title="1.	SD卡烧录"></a>1.	SD卡烧录</h2><p>​	博主使用第二种方式，这一小节参考官方教程：</p>
<ul>
<li><a href="https://link.juejin.cn/?target=https://developer.nvidia.com/embedded/learn/get-started-jetson-xavier-nx-devkit%23collapseZero">Windows</a></li>
<li><a href="https://link.juejin.cn/?target=https://developer.nvidia.com/embedded/learn/get-started-jetson-xavier-nx-devkit%23collapseOne">Mac OS</a></li>
<li><a href="https://link.juejin.cn/?target=https://developer.nvidia.com/embedded/learn/get-started-jetson-xavier-nx-devkit%23collapseTwo">Linux</a></li>
</ul>
<p>​	首先从Nvidia官网下载官方提供的镜像，<a target="_blank" rel="noopener" href="https://developer.download.nvidia.cn/embedded/L4T/r35_Release_v1.0/JP_SD_5.0.2_b231/Jetson_SD_Xavier_NX/JP502-xnx-sd-card-image-b231.zip?t=eyJscyI6ImdzZW8iLCJsc2QiOiJodHRwczovL3d3dy5nb29nbGUuY29tLmhrLyIsIm5jaWQiOiJlbS1udXJ0LTI0NTI3My12dDMzIn0=">镜像地址</a>，从该地址中下载的镜像文件名为<code>jetson-nx-jp441-sd-card-image.zip</code>，默认是最新版本，如果需要下载其他版本，例如Jetpack4.4版本，可以在<a target="_blank" rel="noopener" href="https://developer.nvidia.com/embedded/downloads">官网</a>搜索下载。</p>
<p>​	使用SDFormatter格式化SD卡，下载地址：<a target="_blank" rel="noopener" href="https://www.sdcardformatter.com/%E3%80%82">https://www.sdcardformatter.com/。</a></p>
<p>​	使用官方推荐的balenaEtcher将镜像烧录至SD卡中，下载地址：<a target="_blank" rel="noopener" href="https://etcher.balena.io/%E3%80%82%E6%88%96%E8%80%85%E4%BD%BF%E7%94%A8Win32DiskImager%E7%83%A7%E5%BD%95%E3%80%82">https://etcher.balena.io/。或者使用Win32DiskImager烧录。</a></p>
<p>​	以Etcher为例，打开安装好的软件，从本地选择下载好的镜像文件（无需解压缩），选择烧录设备，开始烧录。</p>
<p>​	烧录完成后，将SD卡插入设备底部的插槽中，打开计算机显示器并连接，连接键鼠，提供电源（<strong>最后连接电源</strong>），开机后即可使用。</p>
<h2 id="2-SDK-Manager烧录"><a href="#2-SDK-Manager烧录" class="headerlink" title="2.	SDK Manager烧录"></a>2.	SDK Manager烧录</h2><p>​	<strong>注：烧录之前，如果设备上插着SSD（一般是M.2接口），一定确保SSD被格式化过，否则烧录后无法启动Linux内核。已经导致系统无法启动的情况下，需要使用硬盘盒格式化SSD，然后再插上SSD，重新烧录镜像。</strong></p>
<h3 id="1）虚拟机Ubuntu系统安装"><a href="#1）虚拟机Ubuntu系统安装" class="headerlink" title="1）虚拟机Ubuntu系统安装"></a>1）虚拟机Ubuntu系统安装</h3><p>​	因为SDK Manager仅支持Linux系统，因此需要安装Ubuntu系统，虚拟机或物理机均可以。</p>
<p>​	博主在虚拟机上安装Ubuntu18.04，这部分教程网上很多，不详细介绍。<strong>重点是分配给虚拟机的硬盘空间至少30G（推荐40），因为使用SDK Manager安装时软件会自动下载Jetpack到虚拟机上，需要确保足够空间，否则在安装过程中会不断提示磁盘空间不足。</strong></p>
<h3 id="2）安装SDK-Manager"><a href="#2）安装SDK-Manager" class="headerlink" title="2）安装SDK Manager"></a>2）安装SDK Manager</h3><p>​	在Ubuntu中下载SDK Manager，官方地址：<a target="_blank" rel="noopener" href="https://developer.nvidia.com/zh-cn/embedded/jetpack">https://developer.nvidia.com/zh-cn/embedded/jetpack</a></p>
<p>​	下载前注册Nvidia开发者账号，<strong>注意注册账号使用的邮箱最好不是edu邮箱，否则没有安装系统的权限（亲测），可以选择QQ邮箱。最好下载最新版本，如果你以前注册过账号，使用较低版本的SDK Manager时，会报无法获得系统的错误。</strong></p>
<h3 id="3）安装系统镜像"><a href="#3）安装系统镜像" class="headerlink" title="3）安装系统镜像"></a>3）安装系统镜像</h3><p>​	以上软件准备好之后，使用杜邦线或者跳线帽连接GND和FC REC接口，使设备进入recovery模式。使用micro usb连接设备和计算机，如果使用虚拟机，会弹出选择连接的设备，选择连接至虚拟机。<strong>最后接上电源。</strong></p>
<p>​	打开SDK Manager，使用注册的开发者账号登陆软件，进入STEP 01。</p>
<p>​	STEP 01中选择Jetson、目标设备和想要安装的Jetpack版本，不勾选Host Machine和Additional sdks，有的时候选择目标设备时有两个选项，选择核心板（另一个是开发套件），进入STEP 02。</p>
<p>​	STEP 02中仅勾选Jetson OS，下面的Jetson SDK Components不用勾选，因为自带的16G存储无法安装全部组件，勾选同意license，不勾选<code>Download now. Install later</code>，进入STEP 03，在进入之前会提示创建目录、输入密码等，这些按照提示正常进行即可。在进入之后，需要选择手动or自动安装，<strong>选择手动manually</strong>，<strong>OEM configuration</strong>选择runtime。</p>
<p>​	STEP 03即安装过程，等待即可。安装完成后Finish即可。</p>
<h3 id="4）开机验证"><a href="#4）开机验证" class="headerlink" title="4）开机验证"></a>4）开机验证</h3><p>​	安装完成后，断开全部连接，连接键鼠、显示器，上电，进入正常的Linux安装向导。</p>
<p>​	<strong>注：有时刚烧录镜像的设备第一次启动无法成功启动，断电重启即可。</strong></p>
<h2 id="3-名词介绍"><a href="#3-名词介绍" class="headerlink" title="3.	名词介绍"></a>3.	名词介绍</h2><h3 id="1）Tegra"><a href="#1）Tegra" class="headerlink" title="1）Tegra"></a>1）Tegra</h3><p>​	Tegra是Nvidia推出的基于ARM架构的通用处理器品牌，能够为便携设备提供高性能、低功耗体验。<strong>本质是通用处理器、嵌入式计算机or单板机，主要是ARM架构CPU和Nvidia自研架构（GeForce、Pascal、Maxwell等）的GPU组合</strong>。</p>
<h3 id="2）L4T"><a href="#2）L4T" class="headerlink" title="2）L4T"></a>2）L4T</h3><p>​	L4T是Linux for Tegra的缩写，因为Jetson系列用的是Tegra架构，因此L4T可以理解为Jetson定制的Linux操作系统，具体的来说就是Ubuntu定制款。</p>
<p>​	通常来说编译内核的工作是为了客户基于Jetson产品自己定制一些功能，比如增加一些硬件设备的驱动。</p>
<p>​	简单来说我们使用的Linux操作系统是通过源码编译出来的，源码和可执行文件之间的关系不用多提，当然操作系统远比普通的可执行文件程序复杂，但可以用这个思路理解，所以如果想要给系统增加底层的功能，就需要更改kernel源码，然后重新编译，然后把一些生成的文件刷进当前的系统中，就实现了操作系统的更新。<strong>编译内核是更改系统的最基础的操作</strong>。</p>
<p>​	NVIDIA给我们提供了每个版本的源码文件，首先下载这些源码，然后选择一个平台进行编译。</p>
<p>​	具体来说有两种思路：<strong>1.直接在jetson上编译（也叫目标平台编译，因为我们编译出来的文件是要刷到这个机器上的，所以叫目标平台）</strong>优点是不跨平台，编译命令简单，缺点是慢，真的慢。<strong>2.交叉编译（就是在一台x86 PC上编译，因为我们是在一个硬件上编译出来给另一个硬件用，相当于跨平台了）</strong>优点是速度快，不会把目标平台搞乱，缺点是需要进行交叉编译配置。</p>
<h3 id="3）Jetpack"><a href="#3）Jetpack" class="headerlink" title="3）Jetpack"></a>3）Jetpack</h3><p>​	Jetpack SDK是Nvidia用于构建AI应用程序的最全面的开发环境包，支持所有Jetson模块和开发套件。<strong>Jetpack是和Jetson同级别概念的软件包。</strong></p>
<p>​	JetPack SDK包括最新的Linux驱动程序包（L4T），具有Linux操作系统以及CUDA-X加速库和API，用于深度学习，计算机视觉，加速计算和多媒体。它还包括用于主机和开发人员工具包的示例，文档和开发人员工具，并支持更高级别的SDK，例如用于流视频分析的DeepStream和用于机器人技术的Isaac。</p>
<p>​	也就是Jetpack打包了很多AI开发必须要的基础软件，我们所谓的刷机就是把安装好Jetpack。但是需要注意的是，每个版本的Jetpack，里面包含了对应版本的软件。</p>
<p>​	注：所以说，官网提供的针对Jetpack版本安装tensorflow或者pytorch，这其实不是必要的，因为如果从SDK Manager仅安装Jetson OS，里面的cuda、cudnn可以后续自主选择版本，唯一问题是这些软件包不一定有对应的支持arm架构的版本，且安装比较麻烦，通常需要从源码编码安装。</p>
<h1 id="三系统基本配置"><a href="#三系统基本配置" class="headerlink" title="三	系统基本配置"></a>三	系统基本配置</h1><p>​	进入Ubuntu系统后，为了提升体验感，可以进行一些基本配置。</p>
<h2 id="1-扩容至M-2-Nvme-SSD并设置第一启动项"><a href="#1-扩容至M-2-Nvme-SSD并设置第一启动项" class="headerlink" title="1.	扩容至M.2 Nvme SSD并设置第一启动项"></a>1.	扩容至M.2 Nvme SSD并设置第一启动项</h2><p>​	Jetson NX的一个重要特点是其M.2关键M连接器，经过测试，来自SSD的读取速度是SD卡的7倍，因此肯定会提高Jetson NX的性能。</p>
<h3 id="1）格式化SSD"><a href="#1）格式化SSD" class="headerlink" title="1）格式化SSD"></a>1）格式化SSD</h3><p>​	安装好SSD并启动设备，然后打开菜单并搜索<code>disk</code>，启动磁盘应用程序</p>
<img src="https://s1.ax1x.com/2023/09/03/pPDUTsI.png" style="zoom:50%;" />

<p>​	选中SSD，<code>ctrl+F</code>格式化磁盘，格式化过程中，选项默认。格式化后，新建分区，分离出16G的Free Space Following用于交换文件，为分区取名后create，即可完成新卷的创建。</p>
<h3 id="2）设置SSD为第一启动项"><a href="#2）设置SSD为第一启动项" class="headerlink" title="2）设置SSD为第一启动项"></a>2）设置SSD为第一启动项</h3><p>​	终端中依次输入</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">git clone https://github.com/jetsonhacks/rootOnNVMe.git</span><br><span class="line">cd rootOnNVMe</span><br><span class="line">./copy-rootfs-ssd.sh  # 将根源文件复制到SSD</span><br><span class="line">./setup-service.sh </span><br></pre></td></tr></table></figure>

<p>​	重新启动即可生效，在<code>计算机</code>中右键查看属性即可查看容量。</p>
<h2 id="2-设置系统中文并安装中文输入法"><a href="#2-设置系统中文并安装中文输入法" class="headerlink" title="2.	设置系统中文并安装中文输入法"></a>2.	设置系统中文并安装中文输入法</h2><p>​	首先明确，得先安装语言包，才能设置系统语言和输入法。</p>
<p>​	打开设置界面中的语言后，会提示是否安装语言包，同意安装即可。</p>
<p>​	因为源的问题安装较慢。安装完成后，<strong>手动更换系统语言，添加中文输入法（pinyin intelligence input）</strong>，以后可以通过右上角或快捷键<code>ctrl+space</code>切换。</p>
<p>​	linux的输入法框架主要有fcitx（谷歌拼音、搜狗拼音、搜狗五笔等）、ibus（拼音、五笔）和xim（现在用的比较少）。三种框架中，输入法软件提供商，支持比较多的是fcitx。Jetson Xavier NX默认使用ibus。</p>
<p>​	可以终端通过<code>apt-get</code>安装框架和具体输入法，如<code>sudo apt install ibus-pinyin</code></p>
<h2 id="3-换源"><a href="#3-换源" class="headerlink" title="3.	换源"></a>3.	换源</h2><p>​	博主不太喜欢换源，因为镜像源提供的软件不一定是最新的，如果下载速度很慢，可以通过<code>-i </code>指定下载源，一般情况下也可以通过科学上网加快下载速度。</p>
<p>​	需要换源的软件一般有：<code>apt、pip、conda</code>。</p>
<p>​	注：apt和apt-get是debian和ubuntu Linux上常用的软件包管理工具，它们的主要区别是apt具有更智能化的软件包依赖性解决算法，可以更好的处理软件包依赖性问题。</p>
<h2 id="4-科学上网"><a href="#4-科学上网" class="headerlink" title="4.	科学上网"></a>4.	科学上网</h2><p>​	关于linux如何科学上网，参考<a href="https://jrunding.github.io/2023/03/05/Linux-2-linux%E7%A7%91%E5%AD%A6%E4%B8%8A%E7%BD%91/">Linux科学上网</a></p>
<h2 id="5-安装Miniforge"><a href="#5-安装Miniforge" class="headerlink" title="5.	安装Miniforge"></a>5.	安装Miniforge</h2><p>​	anaconda不支持arm架构，因此可以安装Miniconda，需要下载对应版本<code>whl</code>文件通过<code>pip</code>安装。但博主更推荐Miniforge。</p>
<p>​	Miniforge 使用<code>conda-forge</code> 作为默认 channel，而 Miniconda 使用<code>anaconda.org</code> 作为默认channel。channel的含义在这里介绍一下：</p>
<p>​	conda channels (源) 是 packages 存储的位置，也即是你是从哪个来源下载这个包，对应到conda内部处理则是下载文件的链接。因为不同源会有相同名字的包，因此必须指定来源，同时安装conda的时候也会有一个默认的channel。<strong>目前主流的就是 conda-forge</strong>，齐全且更新快。如果有多个channel，他们会按顺序确定优先级，优先的源上找不到，就会到下一个优先级的源上去找。还可以设置channel的优先级是否strict，如果是strict的话，则只会在这一个源上查找。</p>
<p>​	Miniforge 比 Anaconda\Miniconda 更早支持了Apple M1芯片。2022年5月6日Anaconda官方宣布原生支持了Apple M1版本。在苹果官方的Tensorflow加速训练教程中也是推荐的Miniforge。</p>
<p>​	简言之，我个人更倾向于 Miniforge，社区万岁。</p>
<p>​	Miniforge的安装可以去github下载release版本的sh文件，在Ubuntu终端执行脚本即可。</p>
<h2 id="6-安装jtop"><a href="#6-安装jtop" class="headerlink" title="6.	安装jtop"></a>6.	安装jtop</h2><p>​	jtop软件可以理解成windows中的设备&#x2F;任务管理器，可以实时查看CPU、GPU、内存等硬件设备的使用情况，同时方便开启风扇以及更改风扇的转数。</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">sudo apt-get install python3-pip  # 安装pip3</span><br><span class="line">sudo -H pip3 install -U jetson-stats  # 安装jtop</span><br><span class="line">sudo systemctl restart jetson_stats.service  # 运行jtop服务</span><br><span class="line">reboot</span><br></pre></td></tr></table></figure>

<p>​	使用<code>jtop</code>启动jtop，q退出。界面中可以查看很多信息和操作提示。</p>
<h1 id="四安装cuda和cudnn"><a href="#四安装cuda和cudnn" class="headerlink" title="四	安装cuda和cudnn"></a>四	安装cuda和cudnn</h1><p>​	在Ubuntu终端输入<code>nvcc -V</code>查看cuda版本，“未找到指令”表示未安装cuda。cuda和cudnn的安装有两种方式，一种是在Jetson Xavier NX上手动安装，另一种是通过SDK Manager安装。</p>
<h2 id="1-SDK-Manager安装"><a href="#1-SDK-Manager安装" class="headerlink" title="1.	SDK Manager安装"></a>1.	SDK Manager安装</h2><p>​	这种方式安装cuda和cudnn和刷镜像差不多，但切记在STEP 02中不要勾选Jetson OS，这是系统镜像。</p>
<h2 id="2-Ubuntu上手动安装"><a href="#2-Ubuntu上手动安装" class="headerlink" title="2.	Ubuntu上手动安装"></a>2.	Ubuntu上手动安装</h2><p>​	这是博主采用的方式。博主安装的是cuda10.2和cudnn8.2。</p>
<h3 id="1）安装cuda10-2"><a href="#1）安装cuda10-2" class="headerlink" title="1）安装cuda10.2"></a>1）安装cuda10.2</h3><p>​	下载cuda10.2：</p>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">sudo apt-get update</span><br><span class="line">sudo apt-get install cuda-toolkit-10-2</span><br></pre></td></tr></table></figure>

<p>​	下载cuda后，配置环境：</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">sudo gedit ~/.bashrc</span><br></pre></td></tr></table></figure>

<p>​	将以下内容复制到最后一行：</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">export PATH=/usr/local/cuda-10.2/bin$&#123;PATH:+:$&#123;PATH&#125;&#125;</span><br><span class="line">export LD_LIBRARY_PATH=/usr/local/cuda-10.2/lib64$&#123;LD_LIBRARY_PATH:+:$&#123;LD_LIBRARY_PATH&#125;&#125;</span><br><span class="line">export CUDA_ROOT=/usr/local/cuda</span><br></pre></td></tr></table></figure>

<p>​	保存退出后：</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">source ~/.bashrc</span><br></pre></td></tr></table></figure>

<h3 id="2）安装cudnn8-2"><a href="#2）安装cudnn8-2" class="headerlink" title="2）安装cudnn8.2"></a>2）安装cudnn8.2</h3><p>​	理论上对应cuda10.2版本是cudnn8.0，但是博主选择的安装方法是从SDK Manager下载软件包（博主没找到其他方式，因为cudnn官网提供的是基于amd架构文件，所以只有在运行Jetpack安装包后才会有arm架构的版本），而SDK Manager选择固定版本的Jetpack所提供的cudnn版本也是固定的。</p>
<p>​	这种方式是通过SDK Manager刷镜像时可以选择Jetson SDK Components，而主机会先把软件包下载到本地，然后再通过micro usb传给Jetson。因此在SDK Manager下载完Jetson SDK Components时，停止继续安装。在<code>/home/用户/nvidia</code>和<code>/home/用户/下载/nvidia</code>目录下就是下载的全部components。</p>
<p>​	找到下面三个文件：</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">libcudnn8_8<span class="number">.2</span><span class="number">.0</span><span class="number">.180</span>-<span class="number">1</span>+cuda10<span class="number">.2</span>_arm64.deb</span><br><span class="line">libcudnn8-dev_8<span class="number">.2</span><span class="number">.0</span><span class="number">.180</span>-<span class="number">1</span>+cuda10<span class="number">.2</span>_arm64.deb</span><br><span class="line">libcudnn8-doc_8<span class="number">.2</span><span class="number">.0</span><span class="number">.180</span>-<span class="number">1</span>+cuda10<span class="number">.2</span>_arm64.deb  <span class="comment"># 这个文件因为版本问题会改名成 ……example……</span></span><br></pre></td></tr></table></figure>

<p>​	将这三个文件拷贝到Jetson设备上，运行：</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">sudo dpkg -i libcudnn8_8.2.0.180-1+cuda10.2_arm64.deb</span><br><span class="line">sudo dpkg -i libcudnn8-dev_8.2.0.180-1+cuda10.2_arm64.deb</span><br><span class="line">sudo dpkg -i libcudnn8-doc_8.2.0.180-1+cuda10.2_arm64.deb</span><br></pre></td></tr></table></figure>

<p>​	安装完成后，其实是直接安装到了默认安装路径usr&#x2F;include和usr&#x2F;lib下的，因此需要将其拷贝到cuda安装路径下：</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">sudo cp /usr/include/cudnn.h /usr/local/cuda/include/</span><br><span class="line">sudo cp /usr/lib/aarch64-linux-gnu/libcudnn* /usr/local/cuda/lib64/</span><br></pre></td></tr></table></figure>

<p>​	至此cuda10.2和cudnn8.2安装就完成了。通过<code>nvcc -V</code>可以查看安装的cuda版本。</p>
<h1 id="五虚拟环境中安装tensorflow-gpu"><a href="#五虚拟环境中安装tensorflow-gpu" class="headerlink" title="五	虚拟环境中安装tensorflow-gpu"></a>五	虚拟环境中安装tensorflow-gpu</h1><h2 id="1-查看开发板属性"><a href="#1-查看开发板属性" class="headerlink" title="1.	查看开发板属性"></a>1.	查看开发板属性</h2><p>​	首先通过指令查看开发板属性，熟悉开发板。</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">head -n 1 /etc/nv_tegra_release  </span><br></pre></td></tr></table></figure>

<p>​	这个指令查看 &#x2F;etc&#x2F;nv_tegra_release 的第一行，当前板卡属性为<code>R32,REVISION:4.4, GCID: 23942405, BOARD: t186ref, EABI: aarch64</code></p>
<p>这是L4T的版本，即32.4.4，然后在<a target="_blank" rel="noopener" href="https://developer.nvidia.com/embedded/jetpack-archive">官网</a>查找对应的Jetpack版本。或者直接<code>sudo apt-cache show nvidia-jetpack</code>查看Jetpack版本。</p>
<p>​	查看系统的属性可以通过jtop或者使用<a target="_blank" rel="noopener" href="http://www.gpus.cn/gpus_list_page_techno_support_content?id=39">指令</a>查看。</p>
<h2 id="2-创建虚拟环境"><a href="#2-创建虚拟环境" class="headerlink" title="2.	创建虚拟环境"></a>2.	创建虚拟环境</h2><p>​	这步不在本博客的介绍内容中，可以参考其他博客。</p>
<h2 id="3-参考官网安装tensorflow"><a href="#3-参考官网安装tensorflow" class="headerlink" title="3.	参考官网安装tensorflow"></a>3.	参考官网安装tensorflow</h2><p>​	<a target="_blank" rel="noopener" href="https://forums.developer.nvidia.com/t/official-tensorflow-for-jetson-agx-xavier/65523">官网</a>提供了不同的Jetpack版本、python版本安装tensorflow的版本和具体指令，以Jetpack4.6.3为例。</p>
<p>​	官网<strong>Python 3.6+JetPack4.6.3</strong></p>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">sudo apt-get update</span><br><span class="line">sudo apt-get install libhdf5-serial-dev hdf5-tools libhdf5-dev zlib1g-dev zip libjpeg8-dev liblapack-dev libblas-dev gfortran</span><br><span class="line">sudo apt-get install python3-pip</span><br><span class="line">sudo pip3 install -U pip testresources setuptools</span><br><span class="line">sudo <span class="built_in">ln</span> -s /usr/include/locale.h /usr/include/xlocale.h</span><br><span class="line">sudo pip3 install -U numpy==1.19.4 future mock keras_preprocessing keras_applications gast==0.2.1 protobuf pybind11 cython pkgconfig packaging</span><br><span class="line">sudo pip3 install --extra-index-url https://developer.download.nvidia.com/compute/redist/jp/v461 tensorflow</span><br></pre></td></tr></table></figure>

<p>​	<strong>按照该指令可以安装所需全部依赖和tensorflow，但是官网教程是几年前的，有些软件包更新导致不再兼容，导致安装失败。</strong></p>
<p>​	博主更新过程：</p>
<p>​	首先进入虚拟环境。</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">注：使用sudo指令安装的包均位于系统默认软件安装位置 /usr/local/中</span></span><br><span class="line">sudo apt-get update  # 更新apt-get</span><br><span class="line">sudo apt-get install libhdf5-serial-dev hdf5-tools libhdf5-dev zlib1g-dev zip libjpeg8-dev liblapack-dev libblas-dev gfortran  # 因为arm架构的原因，所以安装的大部分软件包都需要从源码编译安装，因此这步是安装一些必要的编译工具</span><br><span class="line">sudo apt-get install python3-pip  # 安装pip3</span><br><span class="line">pip3 install -U pip testresources setuptools  # 在虚拟环境中安装最新版本testresources setuptools</span><br><span class="line">sudo ln -s /usr/include/locale.h /usr/include/xlocale.h  # 创建文件链接</span><br><span class="line">pip3 install -U numpy==1.19.4 future mock keras_preprocessing gast==0.2.1 protobuf pybind11 pkgconfig packaging</span><br></pre></td></tr></table></figure>

<p>​	<strong>重点，博主没有和官网一样，直接通过pip安装keras_applications和cython，因为keras_applications基于h5py包，而h5py包基于HDF5和cython，HDF5上面已经安装过，现在就是cython和h5py包的问题。通过conda先安装cython&#x3D;&#x3D;0.29.x（这里不用指定版本，默认安装的就是满足需要的版本）！！！再通过conda安装h5py&#x3D;&#x3D;3.1.0（必须指定版本）</strong></p>
<p>​	为什么这样做？因为conda安装方式和pip很重大的区别在于conda是从二进制安装，即已经编译好的文件，而pip会从whl（二进制）或源码方式安装，而采用官方推荐pip安装h5py时，会从源码安装，调用安装好的cython，博主没找到和Jetpack对应的cython、h5py版本，所以只能通过conda安装。如果使用pip安装，在安装h5py时，会报大量错误，关键错误是无法解析cython文件。</p>
<p>​	最后从<a target="_blank" rel="noopener" href="https://developer.download.nvidia.com/compute/redist/jp/v461">Nvidia官网</a>（<a target="_blank" rel="noopener" href="https://developer.download.nvidia.com/compute/redist/jp/v461%EF%BC%89%E6%89%8B%E5%8A%A8%E4%B8%8B%E8%BD%BD%E5%AF%B9%E5%BA%94%E7%89%88%E6%9C%ACtensorflow%E7%9A%84whl%E6%96%87%E4%BB%B6%EF%BC%8C%E5%9C%A8%E8%99%9A%E6%8B%9F%E7%8E%AF%E5%A2%83%E4%B8%AD%E9%80%9A%E8%BF%87%60pip">https://developer.download.nvidia.com/compute/redist/jp/v461）手动下载对应版本tensorflow的whl文件，在虚拟环境中通过`pip</a> install&#96;指令安装。</p>
<p>​	一段时间后即可安装成功tensorflow。在虚拟环境中进入python，测试是否安装成功。</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> tensorflow <span class="keyword">as</span> tf</span><br><span class="line">tf.config.list_physical_devices(<span class="string">&#x27;GPU&#x27;</span>)</span><br></pre></td></tr></table></figure>

<p>​	如果返回不是<code>[]</code>表示tensorflow-gpu安装成功！</p>
<p>​	</p>
</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">文章作者: </span><span class="post-copyright-info"><a href="http://JrunDing.github.io">JrunDing</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">文章链接: </span><span class="post-copyright-info"><a href="http://jrunding.github.io/2023/09/03/Jetson-Xavier-NX%E8%99%9A%E6%8B%9F%E7%8E%AF%E5%A2%83%E4%B8%AD%E5%AE%89%E8%A3%85tensorflow/">http://jrunding.github.io/2023/09/03/Jetson-Xavier-NX%E8%99%9A%E6%8B%9F%E7%8E%AF%E5%A2%83%E4%B8%AD%E5%AE%89%E8%A3%85tensorflow/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="http://JrunDing.github.io" target="_blank">JrunDing</a>！</span></div></div><div class="tag_share"><div class="post_share"><div class="social-share" data-image="https://s1.ax1x.com/2023/03/03/ppkgPxK.jpg" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/js/social-share.min.js" defer></script></div></div><hr/><div id="post-comment"><div class="comment-head"><div class="comment-headline"><i class="fas fa-comments fa-fw"></i><span> 评论</span></div></div><div class="comment-wrap"><div><div id="disqus_thread"></div></div></div></div></div><div class="aside-content" id="aside-content"><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#%E4%B8%80%E7%A1%AC%E4%BB%B6%E7%BB%84%E6%88%90"><span class="toc-number">1.</span> <span class="toc-text">一	硬件组成</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E4%BA%8C%E9%95%9C%E5%83%8F%E7%83%A7%E5%BD%95"><span class="toc-number">2.</span> <span class="toc-text">二	镜像烧录</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#1-SD%E5%8D%A1%E7%83%A7%E5%BD%95"><span class="toc-number">2.1.</span> <span class="toc-text">1.	SD卡烧录</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-SDK-Manager%E7%83%A7%E5%BD%95"><span class="toc-number">2.2.</span> <span class="toc-text">2.	SDK Manager烧录</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1%EF%BC%89%E8%99%9A%E6%8B%9F%E6%9C%BAUbuntu%E7%B3%BB%E7%BB%9F%E5%AE%89%E8%A3%85"><span class="toc-number">2.2.1.</span> <span class="toc-text">1）虚拟机Ubuntu系统安装</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2%EF%BC%89%E5%AE%89%E8%A3%85SDK-Manager"><span class="toc-number">2.2.2.</span> <span class="toc-text">2）安装SDK Manager</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3%EF%BC%89%E5%AE%89%E8%A3%85%E7%B3%BB%E7%BB%9F%E9%95%9C%E5%83%8F"><span class="toc-number">2.2.3.</span> <span class="toc-text">3）安装系统镜像</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4%EF%BC%89%E5%BC%80%E6%9C%BA%E9%AA%8C%E8%AF%81"><span class="toc-number">2.2.4.</span> <span class="toc-text">4）开机验证</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-%E5%90%8D%E8%AF%8D%E4%BB%8B%E7%BB%8D"><span class="toc-number">2.3.</span> <span class="toc-text">3.	名词介绍</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1%EF%BC%89Tegra"><span class="toc-number">2.3.1.</span> <span class="toc-text">1）Tegra</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2%EF%BC%89L4T"><span class="toc-number">2.3.2.</span> <span class="toc-text">2）L4T</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3%EF%BC%89Jetpack"><span class="toc-number">2.3.3.</span> <span class="toc-text">3）Jetpack</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E4%B8%89%E7%B3%BB%E7%BB%9F%E5%9F%BA%E6%9C%AC%E9%85%8D%E7%BD%AE"><span class="toc-number">3.</span> <span class="toc-text">三	系统基本配置</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#1-%E6%89%A9%E5%AE%B9%E8%87%B3M-2-Nvme-SSD%E5%B9%B6%E8%AE%BE%E7%BD%AE%E7%AC%AC%E4%B8%80%E5%90%AF%E5%8A%A8%E9%A1%B9"><span class="toc-number">3.1.</span> <span class="toc-text">1.	扩容至M.2 Nvme SSD并设置第一启动项</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1%EF%BC%89%E6%A0%BC%E5%BC%8F%E5%8C%96SSD"><span class="toc-number">3.1.1.</span> <span class="toc-text">1）格式化SSD</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2%EF%BC%89%E8%AE%BE%E7%BD%AESSD%E4%B8%BA%E7%AC%AC%E4%B8%80%E5%90%AF%E5%8A%A8%E9%A1%B9"><span class="toc-number">3.1.2.</span> <span class="toc-text">2）设置SSD为第一启动项</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-%E8%AE%BE%E7%BD%AE%E7%B3%BB%E7%BB%9F%E4%B8%AD%E6%96%87%E5%B9%B6%E5%AE%89%E8%A3%85%E4%B8%AD%E6%96%87%E8%BE%93%E5%85%A5%E6%B3%95"><span class="toc-number">3.2.</span> <span class="toc-text">2.	设置系统中文并安装中文输入法</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-%E6%8D%A2%E6%BA%90"><span class="toc-number">3.3.</span> <span class="toc-text">3.	换源</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4-%E7%A7%91%E5%AD%A6%E4%B8%8A%E7%BD%91"><span class="toc-number">3.4.</span> <span class="toc-text">4.	科学上网</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#5-%E5%AE%89%E8%A3%85Miniforge"><span class="toc-number">3.5.</span> <span class="toc-text">5.	安装Miniforge</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#6-%E5%AE%89%E8%A3%85jtop"><span class="toc-number">3.6.</span> <span class="toc-text">6.	安装jtop</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%9B%9B%E5%AE%89%E8%A3%85cuda%E5%92%8Ccudnn"><span class="toc-number">4.</span> <span class="toc-text">四	安装cuda和cudnn</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#1-SDK-Manager%E5%AE%89%E8%A3%85"><span class="toc-number">4.1.</span> <span class="toc-text">1.	SDK Manager安装</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-Ubuntu%E4%B8%8A%E6%89%8B%E5%8A%A8%E5%AE%89%E8%A3%85"><span class="toc-number">4.2.</span> <span class="toc-text">2.	Ubuntu上手动安装</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1%EF%BC%89%E5%AE%89%E8%A3%85cuda10-2"><span class="toc-number">4.2.1.</span> <span class="toc-text">1）安装cuda10.2</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2%EF%BC%89%E5%AE%89%E8%A3%85cudnn8-2"><span class="toc-number">4.2.2.</span> <span class="toc-text">2）安装cudnn8.2</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E4%BA%94%E8%99%9A%E6%8B%9F%E7%8E%AF%E5%A2%83%E4%B8%AD%E5%AE%89%E8%A3%85tensorflow-gpu"><span class="toc-number">5.</span> <span class="toc-text">五	虚拟环境中安装tensorflow-gpu</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#1-%E6%9F%A5%E7%9C%8B%E5%BC%80%E5%8F%91%E6%9D%BF%E5%B1%9E%E6%80%A7"><span class="toc-number">5.1.</span> <span class="toc-text">1.	查看开发板属性</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-%E5%88%9B%E5%BB%BA%E8%99%9A%E6%8B%9F%E7%8E%AF%E5%A2%83"><span class="toc-number">5.2.</span> <span class="toc-text">2.	创建虚拟环境</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-%E5%8F%82%E8%80%83%E5%AE%98%E7%BD%91%E5%AE%89%E8%A3%85tensorflow"><span class="toc-number">5.3.</span> <span class="toc-text">3.	参考官网安装tensorflow</span></a></li></ol></li></ol></div></div></div></div></main><footer id="footer" style="background-image: url('https://s1.ax1x.com/2023/03/03/ppkgPxK.jpg')"><div id="footer-wrap"><div class="copyright">&copy;2020 - 2024 By JrunDing</div><div class="footer_custom_text">Wish to feel nothing.</div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><a id="to_comment" href="#post-comment" title="直达评论"><i class="fas fa-comments"></i></a><button id="go-up" type="button" title="回到顶部"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.umd.min.js"></script><script>function panguFn () {
  if (typeof pangu === 'object') pangu.autoSpacingPage()
  else {
    getScript('https://cdn.jsdelivr.net/npm/pangu/dist/browser/pangu.min.js')
      .then(() => {
        pangu.autoSpacingPage()
      })
  }
}

function panguInit () {
  if (true){
    GLOBAL_CONFIG_SITE.isPost && panguFn()
  } else {
    panguFn()
  }
}

document.addEventListener('DOMContentLoaded', panguInit)</script><div class="js-pjax"><script>function loadDisqus () {
  var disqus_config = function () {
    this.page.url = 'http://jrunding.github.io/2023/09/03/Jetson-Xavier-NX%E8%99%9A%E6%8B%9F%E7%8E%AF%E5%A2%83%E4%B8%AD%E5%AE%89%E8%A3%85tensorflow/'
    this.page.identifier = '/2023/09/03/Jetson-Xavier-NX%E8%99%9A%E6%8B%9F%E7%8E%AF%E5%A2%83%E4%B8%AD%E5%AE%89%E8%A3%85tensorflow/'
    this.page.title = 'Jetson Xavier NX虚拟环境中安装tensorflow'
  };

  window.disqusReset = () => {
    DISQUS.reset({
      reload: true,
      config: disqus_config
    })
  }

  if (window.DISQUS) disqusReset()
  else {
    (function() { 
      var d = document, s = d.createElement('script');
      s.src = 'https://jrunding.disqus.com/embed.js';
      s.setAttribute('data-timestamp', +new Date());
      (d.head || d.body).appendChild(s);
    })();
  }

  document.getElementById('darkmode').addEventListener('click', () => {
    setTimeout(() => window.disqusReset(), 200)
  })
}

if ('Disqus' === 'Disqus' || !false) {
  if (false) btf.loadComment(document.getElementById('disqus_thread'), loadDisqus)
  else loadDisqus()
} else {
  function loadOtherComment () {
    loadDisqus()
  }
}
</script><script>if (window.DISQUSWIDGETS === undefined) {
  var d = document, s = d.createElement('script');
  s.src = 'https://jrunding.disqus.com/count.js';
  s.id = 'dsq-count-scr';
  (d.head || d.body).appendChild(s);
} else {
  DISQUSWIDGETS.getCount({reset: true});
}</script></div><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/dist/activate-power-mode.min.js"></script><script>POWERMODE.colorful = true;
POWERMODE.shake = false;
POWERMODE.mobile = false;
document.body.addEventListener('input', POWERMODE);
</script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div></body></html>